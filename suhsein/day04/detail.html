<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>게시글 상세</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    />
    <script src="./js/utils.js"></script>
  </head>
  <body>
    <div class="container mt-5">
      <h2 class="mb-4">게시글 상세</h2>
      <div id="alertArea"></div>
      <div id="postDetail" class="card p-3"></div>
      <a href="index.html" class="btn btn-secondary mt-3">목록으로</a>
    </div>

    <script>
      const params = new URLSearchParams(window.location.search);
      // query param ID
      const postId = params.get("id");
      // 알림 영역
      const alertArea = document.getElementById("alertArea");
      // 게시글 상세 영역
      const postDetail = document.getElementById("postDetail");

      if (postId) {
        // ** TO-DO 게시글 조회
        Utils.getData(`https://jsonplaceholder.typicode.com/posts/${postId}`)
          .then((post) => {
            postDetail.innerHTML = `<h4>${post.id}. ${post.title}</h4>
                                    <p>${post.body}</p>`;
          })
          .catch((error) => {
            alertArea.innerHTML = `<div class="alert alert-danger" role="alert">${error.message}</div>`;
          });
      } else {
        postDetail.innerHTML = `<p class="text-danger">잘못된 접근입니다.</p>`;
      }
    </script>
  </body>
</html>
